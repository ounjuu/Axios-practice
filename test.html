<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const careers = [
        {
          id: 1,
          userName: "ê¹€ë•ë°°",
          age: 25,
          careers: [
            {
              category: "movie",
              title: "ë‚¨ì‚°ì˜ ë¶€ì¥ë“¤",
              role: "ë¶€ì¥",
              gender: "ë‚¨ì",
            },
            {
              category: "drama",
              title: "ì‚¬ë‘ì˜ ë¶ˆì‹œì°©",
              role: "êµ°ì¸1",
              gender: "ë‚¨ì",
            },
            {
              category: "musical",
              title: "ë£°ë¼",
              role: "ë£°ë¼",
              gender: "ë‚¨ì",
            },
          ],
        },
        {
          id: 2,
          userName: "ê¹€ì¶˜ì",
          age: 55,
          careers: [
            {
              category: "musical",
              title: "ì¹´ì§€ë…¸",
              role: "íšŒì¥ë‹˜",
              gender: "ì—¬ì",
            },
            {
              category: "drama",
              title: "ì‚¬ë‘ì˜ ë¶ˆì‹œì°©",
              role: "ì•„ì£¼ë¨¸ë‹ˆ",
              gender: "ì—¬ì",
            },
            {
              category: "musical",
              title: "ë£°ë¼",
              role: "ìˆ ì§‘ì£¼ì¸",
              gender: "ì—¬ì",
            },
          ],
        },
        {
          id: 3,
          userName: "ê¹€ì”ì¹˜",
          age: 42,
          careers: [
            {
              category: "movie",
              title: "ì”ì¹˜ì§‘",
              role: "ì”ì¹˜ì§‘ ì£¼ì¸",
              gender: "ë‚¨ì",
            },
            {
              category: "movie",
              title: "ì¶˜ìˆ˜ë„¤ ì”ì¹˜",
              role: "ì”ì¹˜ì§‘ ì£¼ì¸",
              gender: "ë‚¨ì",
            },
            {
              category: "movie",
              title: "ë•ë°°ë„¤ ì”ì¹˜",
              role: "ì”ì¹˜ì§‘ ì£¼ì¸",
              gender: "ë‚¨ì",
            },
          ],
        },
        {
          id: 4,
          userName: "ì´ë¯¼í˜¸",
          age: 30,
          careers: [
            {
              category: "drama",
              title: "ê½ƒë³´ë‹¤ ë‚¨ì",
              role: "êµ¬ì¤€í‘œ",
              gender: "ë‚¨ì",
            },
            {
              category: "movie",
              title: "ì „ì§€ì  ë…ì ì‹œì ",
              role: "ì£¼ì—°",
              gender: "ë‚¨ì",
            },
          ],
        },
      ];
      // ì°¸ê³  ì‚¬í•­ ì•„ë˜ì˜ ë°ì´í„°ëŠ” ë‹¤ ë‹¤ë¥¸ í˜ì´ì§€ì—ì„œ ë‚˜ì™€ì•¼í•¨ (js ìˆ˜ì •ìœ¼ë¡œ ë•Œë ¤ë°•ê¸° ê¸ˆì§€!);
      //  1. ë°°ìš° ë¦¬ìŠ¤íŠ¸ (ì´ë¦„,ë‚˜ì´,ì»¤ë¦¬ì–´) í…Œì´ë¸” í˜•ì‹ìœ¼ë¡œ
      const getAllactor = () => {
        return careers;
      };
      console.log(getAllactor(), "??");
      //  2. ë‚¨ì ë°°ìš° ë¦¬ìŠ¤íŠ¸ (ì´ë¦„,ë‚˜ì´,ì»¤ë¦¬ì–´) í…Œì´ë¸” í˜•ì‹ìœ¼ë¡œ
      const getMale = () => {
        return careers.filter((x, i) => {
          return x.careers.some((a) => {
            return a.gender === "ë‚¨ì";
          });
        });
      };
      console.log(getMale(), "??");
      //  3. ì—¬ì ë°°ìš° ë¦¬ìŠ¤íŠ¸ (ì´ë¦„,ë‚˜ì´,ì»¤ë¦¬ì–´) í…Œì´ë¸” í˜•ì‹ìœ¼ë¡œ
      const getFemale = () => {
        return careers.filter((x) => {
          return x.careers.some((a) => {
            return a.gender === "ì—¬ì";
          });
        });
      };
      console.log(getFemale(), "??");

      //  4. ê°™ì€ ë“œë¼ë§ˆ || ê°™ì€ ì˜í™” || ê°™ì€ ë®¤ì§€ì»¬ ë‚˜ì˜¨ ë°°ìš°ë“¤ (ì¹´í…Œê³ ë¦¬, ì œëª©, ë°°ìš° ì´ë¦„, ì—­í•  ) í…Œì´ë¸”

      const getSameCareers = () => {
        let result = {};

        careers.forEach((actor) => {
          actor.careers.forEach(({ category, title, role }) => {
            if (!result[title]) {
              result[title] = []; // í•´ë‹¹ ì‘í’ˆì´ ì—†ìœ¼ë©´ ë¹ˆ ë°°ì—´ ìƒì„±
            }
            result[title].push({
              category,
              title,
              actorName: actor.userName,
              role,
            });
          });
        });

        return result;
      };
      console.log(getSameCareers());

      //  5. ì¹´í…Œê³ ë¦¬ ì˜í™”ë§Œ ë”°ë¡œ ë§Œë“¤ì–´ì„œ (ì¹´í…Œê³ ë¦¬ ì´ë¦„, ì œëª©, ë°°ìš° ì´ë¦„, ì—­í• ) í…Œì´ë¸”
      const getMovies = () => {
        return careers.flatMap((actor) =>
          actor.careers
            .filter((career) => career.category === "movie") //
            .map((career) => ({
              category: career.category,
              title: career.title,
              actorName: actor.userName,
              role: career.role,
            }))
        );
      };

      console.log(getMovies(), "ğŸ¬ ì˜í™” ë¦¬ìŠ¤íŠ¸");

      //  6. ì¹´í…Œê³ ë¦¬ ë“œë¼ë§ˆë§Œ ë”°ë¡œ ë§Œë“¤ì–´ì„œ (ì¹´í…Œê³ ë¦¬ ì´ë¦„, ì œëª©, ë°°ìš° ì´ë¦„, ì—­í• ) í…Œì´ë¸”
      const getDramas = () => {
        return careers.flatMap((actor) =>
          actor.careers
            .filter((career) => career.category === "drama")
            .map((career) => ({
              category: career.category,
              title: career.title,
              actorName: actor.userName,
              role: career.role,
            }))
        );
      };

      console.log(getDramas(), "ğŸ“º ë“œë¼ë§ˆ ë¦¬ìŠ¤íŠ¸");
    </script>

    <script>
      const animal = [
        {
          id: 1,
          name: "í˜¸ë‘ì´",
          like: "ê³ ê¸°",
        },
        {
          id: 2,
          name: "ì½”ë¼ë¦¬",
          like: "ëª¨ë“ ê²ƒ",
        },
        {
          id: 3,
          name: "ì•…ì–´",
          like: "í’€",
        },
      ];

      // 1. ì „ë¶€ë‹¤ ê°€ì ¸ì™€ì„œ ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°
      const allList = () => {
        return animal;
      };
      // 2. ê°ì ìƒì„¸ í˜ì´ì§€ ë§Œë“¤ê¸°
      const idList = (id) => {
        return animal.find((x) => {
          return Number(x.id) === Number(id);
        });
      };
      console.log(idList(1));

      const likemeatList = () => {
        return animal.filter((x) => {
          return x.like === "ê³ ê¸°";
        });
      };

      console.log(likemeatList());
    </script>
  </body>
</html>
