<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>aixos-get</title>
  </head>
  <body>
    <form action="/getform" method="get">
      <div class="formWrap">
        <label for="id1">아이디</label><br />
        <input
          type="id"
          id="id1"
          name="id1"
          placeholder="아이디를 입력해주세요."
          required
          class="id-input1"
        />
      </div>
      <div class="form-group">
        <label for="password1">비밀번호</label><br />
        <input
          type="password"
          id="password1"
          name="password1"
          placeholder="비밀번호를 입력해주세요."
          required
          class="pw-input1"
        />
        <input
          type="button"
          class="login-button"
          value="제출"
          onclick="btn1()"
        />
      </div>
    </form>
    <!--  -->
    <form action="/postform" method="post" enctype="multipart/form-data">
      <div class="formWrap">
        <label for="id2">아이디</label><br />
        <input
          type="id"
          id="id2"
          name="id2"
          placeholder="아이디를 입력해주세요."
          required
          class="id-input2"
        />
      </div>
      <div class="form-group">
        <label for="password2">비밀번호</label><br />
        <input
          type="password"
          id="password2"
          name="password2"
          placeholder="비밀번호를 입력해주세요."
          required
          class="pw-input2"
        />
        <input
          type="button"
          class="login-button"
          value="제출"
          onclick="btn2()"
        />
      </div>
      <input type="file" name="userfile" />
    </form>
    <script>
      const btn1 = () => {
        const idinput = document.querySelector("#id1");
        const pwinput = document.querySelector("#password1");

        let data = {
          id: idinput.value,
          pw: pwinput.value,
        };
        axios({
          method: "get",
          url: "/getform",
          params: data,
        }).then((response) => {
          if (response.data === "성공") {
            console.log("로그인 성공입니다.", response.data);
          } else {
            console.log("다시 입력해주세요.", response.data);
          }
        });
      };

      const btn2 = () => {
        const idinput2 = document.querySelector("#id2");
        const pwinput2 = document.querySelector("#password2");

        let data = {
          id: idinput2.value,
          pw: pwinput2.value,
        };
        axios({
          method: "post",
          url: "/postform",
          data: data,
        }).then((res) => {
          console.log(res.data, "같을까 다를까??");
          if (res.data === "같아용") {
            window.location.href = "/";
          }
        });
      };
    </script>
  </body>
</html>
